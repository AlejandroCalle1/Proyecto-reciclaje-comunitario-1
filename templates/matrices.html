{% extends 'base.html' %}
{% block title %}Matrices de Impacto{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="card shadow">
        <div class="card-header bg-success text-white">
            <h2><i class="fas fa-table me-2"></i>Matrices de Impacto Ambiental</h2>
        </div>
        <div class="card-body">
            {% for nombre, matriz in matrices.items() %}
            <div class="mb-5">
                <h3 class="h4 mb-3">{{ nombre.replace('_', ' ')|title }}</h3>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead class="table-light">
                            <tr>
                                <th>Material</th>
                                <th>Factor de Conversión (por kg)</th>
                                <th>Unidad</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for i in range(matriz.shape[0]) %}
                            <tr>
                                <td>{{ materiales[i] }}</td>
                                <td>{{ matriz[i][0] }}</td>
                                <td>
                                    {% if nombre == 'ahorro_energia' %}kWh
                                    {% elif nombre == 'ahorro_agua' %}litros
                                    {% elif nombre == 'co2_evitado' %}kg CO₂
                                    {% elif nombre == 'petroleo_ahorrado' %}litros
                                    {% elif nombre == 'arboles_salvados' %}árboles/100kg
                                    {% else %}kg{% endif %}
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}